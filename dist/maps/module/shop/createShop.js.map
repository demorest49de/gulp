{"version":3,"file":"../../../js/module/shop/createShop.js","names":["renderBlog","createHeader","createFooter","handlers","renderArticle","createMain","name","$","app","insertAdjacentHTML","main","querySelector","createSection","renderCards","tabIndex","renderShop","shop","forEach","type","types","header","section","footer","renderElement","page","async","cards","document","response","fetch","ok","json","card","index","count","discountClass","newPrice"],"sources":["module/shop/createShop.js"],"mappings":"OAAQA,eAAiB,+BACjBC,aAAcC,iBAAmB,8BACjCC,aAAe,uBACfC,kBAAoB,8BAE5B,MAAMC,WAAa,CAACC,EAAMC,KAET,SAATD,IACAC,EAAEC,IAAIC,mBAAmB,YAAa,sJAKtCF,EAAEG,KAAOH,EAAEC,IAAIG,cAAc,QAEjC,EAGEC,cAAgB,CAACN,EAAMC,KACzB,GAAa,SAATD,EA4GJ,MAAa,cAATA,GACAC,EAAEG,KAAKD,mBAAmB,YACtB,oWAUJI,YAAYN,SAZhB,EA3GIA,EAAEG,KAAKD,mBAAmB,YACtB,8WAMyBF,EAAEO,SAAWP,EAAEO,SAAW,2pCAmB3BP,EAAEO,SAAWP,EAAEO,SAAW,8VAMzBP,EAAEO,SAAWP,EAAEO,SAAW,4XAQ1BP,EAAEO,SAAWP,EAAEO,SAAW,kpBAY1BP,EAAEO,SAAWP,EAAEO,SAAW,2aAQ1BP,EAAEO,SAAWP,EAAEO,SAAW,6WAOQP,EAAEO,SAAWP,EAAEO,SAAW,wZAQzBP,EAAEO,SAAWP,EAAEO,SAAW,kXAOvCP,EAAEO,SAAWP,EAAEO,SAAW,mOAInBP,EAAEO,SAAWP,EAAEO,SAAW,qVAOxBP,EAAEO,SAAWP,EAAEO,SAAW,qhBA4B1F,EAGEC,WAAcR,IAChBA,EAAES,KAAKC,SAAQ,EAAEC,OAAMZ,WACfY,IAASX,EAAEY,MAAMC,OAKjBF,IAASX,EAAEY,MAAMT,KAKjBQ,IAASX,EAAEY,MAAME,QAKjBH,IAASX,EAAEY,MAAMG,QACjBpB,aAAaI,EAAMC,GALnBK,cAAcN,EAAMC,GALpBF,WAAWC,EAAMC,GALjBN,aAAaK,EAAMC,EAiBvB,GACF,SAGC,MAAMgB,cAAiBhB,IAEX,SAAXA,EAAEiB,OACFT,WAAWR,GACXJ,SAASI,IAME,SAAXA,EAAEiB,KAKS,YAAXjB,EAAEiB,MACFpB,cAAcG,GALdP,WAAWO,EAMf,SAGG,MAAMM,YAAcY,MAAOlB,IAC9B,MAAMmB,EAAQC,SAAShB,cAAc,qBAE/BiB,QAAiBC,MAAM,WAC7B,GAAID,EAASE,GAAI,QACMF,EAASG,QAEvBd,SAAQ,CAACe,EAAMC,KAChB,MAAMC,EAAQD,EAAQ,EACtBP,EAAMjB,mBAAmB,YACrB,gHAEsDuB,EAAK1B,4CACvCC,EAAEO,SAAWP,EAAEO,SAAW,iEACHkB,EAAKG,uFACKD,kGACAA,+HAC6BA,sDACrDF,EAAK1B,qKAEyC0B,EAAKI,oFAChB,EAAhBJ,EAAKI,iHAEZJ,EAAK1B,0FAGxC,GAElB","sourcesContent":["import {renderBlog} from \"../blog/renderBlog.js\";\r\nimport {createHeader, createFooter} from '../base/baseElems.js';\r\nimport {handlers} from \"./handlers.js\";\r\nimport {renderArticle} from '../article/renderArticle.js';\r\n\r\nconst createMain = (name, $) => {\r\n    \r\n    if (name === 'main') {\r\n        $.app.insertAdjacentHTML('beforeend', `\r\n            <main class=\"main\">\r\n                <h1 class=\"visually-hidden\">Сайт онлайн магазина ShopOnline</h1>\r\n            </main>\r\n        `);\r\n        $.main = $.app.querySelector('main');\r\n        \r\n    }\r\n};\r\n\r\nconst createSection = (name, $) => {\r\n    if (name === 'item') {\r\n        $.main.insertAdjacentHTML('beforeend',\r\n            `\r\n                <section class=\"item\" aria-label=\"Каталог товаров\">\r\n                    <h2 class=\"visually-hidden\">товары и скидки</h2>\r\n                    <div class=\"container item__container\">\r\n        \r\n                        <a href=\"#\" class=\"item__gallery item__gallery-notebook\" aria-label=\"Распродажа ноутбуков\"\r\n                         tabindex=\"${$.tabIndex = $.tabIndex + 1}\">\r\n                            <p class=\"item__text-notebook\">\r\n                                -50% на все ноутбуки</p>\r\n                            <div class=\"item__timer timer\"\r\n                            data-timer-deadline=\"09/26/22 22:41\"\r\n                            >\r\n                            </div>\r\n<!--                            //added picture with source and img for google page speed rating and testing. maybe-->\r\n<!--                            //deleted in the nearest future-->\r\n                                <picture>\r\n                                \r\n                                <source srcset=\"img/item/timer.avif\" type=\"image/avif\">\r\n                                <source srcset=\"img/item/timer.webp\" type=\"image/webp\">\r\n                                    <img class=\"item__image-notebook\" src=\"img/item/timer.jpg\"\r\n                                     alt=\"Распродажа ноутбуков\" width=\"4100\" height=\"2900\">\r\n                                </picture>\r\n                        </a>\r\n        \r\n                        <a href=\"#\" class=\"item__gallery item__gallery-book\" aria-label=\"Книга\"\r\n                        tabindex=\"${$.tabIndex = $.tabIndex + 1}\">\r\n                            <p class=\"item__text-book\">\r\n                                <span class=\"item__text-bold\">Книга –</span> лучший подарок</p>\r\n                        </a>\r\n        \r\n                        <a href=\"#\" class=\"item__gallery item__gallery-discount-bottom-left item__gallery-time\"\r\n                         tabindex=\"${$.tabIndex = $.tabIndex + 1}\"\r\n                           aria-label=\"Скидки\">\r\n                            <p class=\"item__text-time\">\r\n                                Время скидок!\r\n                            </p>\r\n                        </a>\r\n        \r\n                        <a href=\"#\" class=\"item__gallery item__gallery-discount-top-left item__gallery-shoes\"\r\n                         tabindex=\"${$.tabIndex = $.tabIndex + 1}\"\r\n                        aria-label=\"вторая пара кросовок в подарок\">\r\n                        <picture>\r\n                        \r\n                        <source srcset=\"img/item/3.avif\" type=\"image/avif\">\r\n                        <source srcset=\"img/item/3.webp\" type=\"image/webp\">\r\n                            <img class=\"item__image-shoes\" src=\"img/item/3.jpg\" alt=\"Обувь\" width=\"420\"\r\n                            height=\"200\">\r\n                        </picture>\r\n                        </a>\r\n        \r\n                        <a href=\"#\" class=\"item__gallery item__gallery-second-pair\" aria-label=\"Кросовки\"\r\n                         tabindex=\"${$.tabIndex = $.tabIndex + 1}\">\r\n                            <p class=\" item__text-second-pair\">\r\n                                Вторая пара кроссовок\r\n                                <span class=\"item__text-big\">в&nbsp;подарок!</span>\r\n                            </p>\r\n                        </a>\r\n        \r\n                        <a href=\"#\" class=\"item__gallery item__gallery-gift-ideas\" aria-label=\"Подарки\"\r\n                         tabindex=\"${$.tabIndex = $.tabIndex + 1}\">\r\n                            <p class=\" item__text-new-ideas\">\r\n                                Идеи новогодних подарков\r\n                            </p>\r\n                        </a>\r\n        \r\n                        <a href=\"#\" class=\"item__gallery item__gallery-discount-bottom-left\r\n                        item__gallery-profitable-december\" tabindex=\"${$.tabIndex = $.tabIndex + 1}\"\r\n                           aria-label=\"Техника\">\r\n                            <p class=\" item__text-profitable-december\">\r\n                                Выгодно в декабре!\r\n                            </p>\r\n                        </a>\r\n        \r\n                        <a href=\"#\" class=\"item__gallery item__gallery-new-year\"\r\n                        aria-label=\"Украшения на новый год\" tabindex=\"${$.tabIndex = $.tabIndex + 1}\">\r\n                            <p class=\"item__text-new-year\">\r\n                                Новогодние украшения\r\n                            </p>\r\n                        </a>\r\n        \r\n                        <a href=\"#\" class=\"item__gallery item__gallery-discount-bottom-left item__gallery-dresses\"\r\n                           aria-label=\"Одежда\" tabindex=\"${$.tabIndex = $.tabIndex + 1}\">\r\n                        </a>\r\n        \r\n                        <a href=\"#\" class=\"item__gallery item__gallery-discount-top-left item__gallery-chemicals\"\r\n                           aria-label=\"Бытовая химия\" tabindex=\"${$.tabIndex = $.tabIndex + 1}\">\r\n                            <p class=\"item__text-chemicals\">\r\n                                На бытовую химию\r\n                            </p>\r\n                        </a>\r\n        \r\n                        <a href=\"#\" class=\"item__gallery item__gallery-ny-toys\"\r\n                         aria-label=\"Елочные украшения\" tabindex=\"${$.tabIndex = $.tabIndex + 1}\">\r\n                        <picture>\r\n                            <source srcset=\"img/item/10.avif\" type=\"image/avif\">\r\n                            <source srcset=\"img/item/10.webp\" type=\"image/webp\">\r\n                            <img class=\"item__image-ny-toys\" src=\"img/item/10.jpg\"\r\n                            alt=\"Елочные украшения\"\r\n                            width=\"200\" height=\"200\">\r\n                        </picture>\r\n                        </a>\r\n                    </div>\r\n                </section>\r\n            `);\r\n        return;\r\n    }\r\n    if (name === 'wholesale') {\r\n        $.main.insertAdjacentHTML('beforeend',\r\n            `\r\n            <section class=\"wholesale\" aria-label=\"Распродажа\">\r\n            <h2 class=\"visually-hidden\">Распродажа</h2>\r\n            <div class=\"container\">\r\n                <h3 class=\"wholesale__title\">Это выгодно!</h3>\r\n                <ul class=\"wholesale__cards\">\r\n                </ul>\r\n            </div>\r\n        </section>\r\n            `);\r\n        renderCards($);\r\n        return;\r\n    }\r\n};\r\n\r\nconst renderShop = ($) => {\r\n    $.shop.forEach(({type, name}) => {\r\n        if (type === $.types.header) {\r\n            createHeader(name, $);\r\n            return;\r\n        }\r\n        \r\n        if (type === $.types.main) {\r\n            createMain(name, $);\r\n            return;\r\n        }\r\n        \r\n        if (type === $.types.section) {\r\n            createSection(name, $);\r\n            return;\r\n        }\r\n        \r\n        if (type === $.types.footer) {\r\n            createFooter(name, $);\r\n            return;\r\n        }\r\n    });\r\n};\r\n\r\nexport const renderElement = ($) => {\r\n    \r\n    if ($.page === 'shop') {\r\n        renderShop($);\r\n        handlers($);\r\n        // setTimeout(() => {\r\n        //     window.scrollTo({top: (document.documentElement.scrollHeight), behavior: 'smooth'});\r\n        // }, 1000);\r\n    }\r\n    \r\n    if ($.page === 'blog') {\r\n        renderBlog($);\r\n        return;\r\n    }\r\n    \r\n    if ($.page === 'article') {\r\n        renderArticle($);\r\n    }\r\n};\r\n\r\nexport const renderCards = async ($) => {\r\n    const cards = document.querySelector('.wholesale__cards');\r\n    \r\n    const response = await fetch('db.json');\r\n    if (response.ok) {\r\n        const json = await response.json();\r\n        \r\n        json.forEach((card, index) => {\r\n            const count = index + 1;\r\n            cards.insertAdjacentHTML('beforeend',\r\n                `\r\n                    <li class=\"card\">\r\n                        <a href=\"#\" class=\"card__link \" aria-label=\"${card.name}\"\r\n                        tabindex=\"${$.tabIndex = $.tabIndex + 1}\">\r\n                            <picture class=\"card__figure ${card.discountClass}\">\r\n                                <source srcset=\"img/wholesale/photo${count}.avif\" type=\"image/avif\">\r\n                                <source srcset=\"img/wholesale/photo${count}.webp\" type=\"image/webp\">\r\n                                <img loading=\"lazy\" class=\"card__image\" src=\"img/wholesale/photo${count}.png\"\r\n                                      alt=\"${card.name}\" width=\"300\" height=\"400\">\r\n                            </picture>\r\n                            <div class=\"card__price-block\"><span class=\"card__new-price\">${card.newPrice} ₽</span>\r\n                                <span class=\"card__old-price\">${card.newPrice * 2} ₽</span>\r\n                            </div>\r\n                            <p class=\"card__item-text\">${card.name}</p>\r\n                        </a>\r\n                    </li>\r\n                    `);\r\n        });\r\n    }\r\n};"]}