{"version":3,"file":"../../../js/module/base/baseRafAnimation.js","names":["rafAnimation","duration","direction","callback","requestId","NaN","startAnimation","window","requestAnimationFrame","step","timestamp","progress","toFixed","cancelAnimationFrame"],"sources":["module/base/baseRafAnimation.js"],"mappings":"OAAO,MAAMA,aAAe,CAACC,EAAUC,EAAWC,KAC9C,IAAIC,EAAYC,IACZC,EAAiBD,IAErBD,EAAYG,OAAOC,uBAAsB,SAASC,EAAKC,GACnDJ,IAAmBI,EACnB,IAAIC,IAAaD,EAAYJ,GAAkBL,GAAUW,QAAQ,GAC7DV,EAAY,GACZC,EAASQ,GACLA,EAAW,EACXP,EAAYI,sBAAsBC,GAElCI,qBAAqBT,KAGzBO,GAAY,EAAIA,GAAUC,QAAQ,GAClCT,EAASQ,GACLA,EAAW,EACXP,EAAYI,sBAAsBC,GAElCI,qBAAqBT,GAGjC,GAAE","sourcesContent":["export const rafAnimation = (duration, direction, callback) => {\r\n    let requestId = NaN;\r\n    let startAnimation = NaN;\r\n    \r\n    requestId = window.requestAnimationFrame(function step(timestamp) {\r\n        startAnimation ||= timestamp;\r\n        let progress = ((timestamp - startAnimation) / duration).toFixed(2);\r\n        if (direction > 0) {\r\n            callback(progress);\r\n            if (progress < 1) {\r\n                requestId = requestAnimationFrame(step);\r\n            } else {\r\n                cancelAnimationFrame(requestId);\r\n            }\r\n        } else {\r\n            progress = (1 - progress).toFixed(2);\r\n            callback(progress);\r\n            if (progress > 0) {\r\n                requestId = requestAnimationFrame(step);\r\n            } else {\r\n                cancelAnimationFrame(requestId);\r\n            }\r\n        }\r\n    });\r\n};\r\n"]}