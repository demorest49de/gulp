export const handleTimer=()=>{const e=()=>{document.querySelector(".timer").remove();const e=document.querySelector(".item__text-notebook");e.textContent="ноутбуки - всегда отличный подарок",e.classList.add("item__text-notebook-changed");e.closest(".item__gallery-notebook").classList.add("item__gallery-notebook-changed")},t=document.querySelector(".item__timer.timer");if(!t)return void e();t.hasAttribute("data-timer-deadline")&&t.insertAdjacentHTML("beforeend",'\n            <p class="timer__title">До конца акции:</p>\n            <div class="timer__block">\n              <p><span class="timer__count timer-days-num">00\n              </span><span class="timer__units  timer-days-text">дней</span></p>\n              <p><span class="timer__count timer-hours-num">00\n              </span><span class="timer__units  timer-hours-text">часов</span></p>\n              <p><span class="timer__count timer-minutes-num">00\n              </span><span class="timer__units  timer-minutes-text">минут</span></p>\n              <p><span class="timer__count timer-seconds-num">00\n              </span><span class="timer__units  timer-seconds-text">секунд</span></p>\n            </div>\n          ');const n=t.getAttribute("data-timer-deadline"),s=document.querySelector(".timer-days-num"),o=document.querySelector(".timer-hours-num"),r=document.querySelector(".timer-minutes-num"),i=document.querySelector(".timer-seconds-num"),m=document.querySelector(".timer-days-text"),c=document.querySelector(".timer-hours-text"),a=document.querySelector(".timer-minutes-text"),u=document.querySelector(".timer-seconds-text"),d=()=>{const t=(()=>{const e=new Date(n).getTime();if(!e)return!1;const t=e-(Date.now()-60*Math.abs((new Date).getTimezoneOffset())*1e3+108e5),s=Math.floor(t/1e3%60),o=Math.floor(t/1e3/60%60),r=Math.floor(t/1e3/60/60%24);return{days:Math.floor(t/1e3/60/60/24),hours:r,minutes:o,seconds:s,timeRemaining:t}})();if(!t)return e();(({days:e,hours:t,minutes:n,seconds:s,timeRemaining:o})=>{const r=[[0],[1],[2,4]],i=[{timeMeasure:e,declension:"дней-день-дня",text:m},{timeMeasure:t,declension:"часов-час-часа",text:c},{timeMeasure:n,declension:"минут-минута-минуты",text:a},{timeMeasure:s,declension:"секунд-секунда-секунды",text:u}];for(const{timeMeasure:e,declension:t,text:n}of i){const s=(d=e,Array.from(String(d),(e=>Number(e))));if(s.length>1&&1===s[s.length-2])continue;const o=s.slice(-1)[0],i=t.split("-");for(let e=0;e<r.length;e++){const[t,s]=r[e];s||o!==t?o>=t&&o<=s&&(n.textContent=i[e]):n.textContent=i[e]}}var d})(t),0===t.days?s.closest("p").remove():s.textContent=`${t.days}`,t.days<10&&s.classList.add("timer__count_less-ten"),o.textContent=t.hours<10?`0${t.hours}`:`${t.hours}`,r.textContent=t.minutes<10?`0${t.minutes}`:`${t.minutes}`,i.textContent=t.seconds<10?`0${t.seconds}`:`${t.seconds}`;const l=setTimeout(d,1e3);t.timeRemaining<=0&&(clearTimeout(l),e())};d()};
//# sourceMappingURL=../../../maps/module/shop/timer.js.map
