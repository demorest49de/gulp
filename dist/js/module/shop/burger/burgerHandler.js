import{rafAnimationIcon,rafAnimationMenu}from"../../base/baseRafAnimation.js";export const burgerHandler=e=>{const t=document.querySelector(".header__button-menu"),i=document.querySelector(".header__button-menu-svg use"),r=document.querySelector(".burger"),n=document.querySelector(".burger__menu"),u=document.querySelector(".burger__block");let o=NaN;const s=()=>{const t=+u.scrollHeight;let i=92;screen.width<=650&&(i=45),o=t+i,e.burgerMenu.visibility&&(n.style.height=`${o}px`)},l=()=>{i.style.opacity="0",rafAnimationIcon(500,1,(e=>{i.style.opacity=`${e}`}))},b=async()=>{i.setAttribute("href",e.burgerMenu.menu),document.body.style.overflow="visible",l(),s();const t=rafAnimationMenu(300,-1,n.scrollHeight,(e=>{n.style.height=`${e}px`}));await t.then((e=>{0===e&&(r.style.visibility="hidden")}))};t.addEventListener("click",(()=>{e.burgerMenu.visibility?b():(i.setAttribute("href",e.burgerMenu.clear),document.body.style.overflow="hidden",r.style.visibility="visible",l(),s(),rafAnimationMenu(300,1,o,(e=>{n.style.height=`${e}px`}))),e.burgerMenu.visibility=!e.burgerMenu.visibility})),r.addEventListener("click",(({target:t})=>{t===r&&(b(),e.burgerMenu.visibility=!e.burgerMenu.visibility)})),window.addEventListener("resize",(()=>{s()}))};